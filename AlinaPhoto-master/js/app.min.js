const TabItemSelector=".tab",ContentItemSelector=".content",ActiveTabHeaderClass="tab_active",ActiveTabContentClass="content_active",headerButton=document.querySelector(".header__button"),nav=document.getElementById("nav"),about=document.getElementById("about"),feedback=document.getElementById("feedback"),portfolio=document.getElementById("portfolio"),links=document.querySelectorAll(".link"),sections=document.querySelectorAll(".section"),logo=document.querySelector(".logo"),header=document.getElementById("header"),navButton=document.querySelector(".nav-button"),optionSelected=document.querySelector(".feedback__option_selected"),optionsBlock=document.querySelector(".feedback-options"),optionsList=document.querySelectorAll(".feedback__option"),priceButton=document.querySelector(".price__button"),portfolioTabs=document.querySelectorAll(".portfolio__tab");class TabsManager{constructor(e){this.tabs=[],this.activeTab=null,this.initFromHtml(e),this.activateTab(this.tabs[0])}initFromHtml(e){const t=e.querySelectorAll(".tab"),o=e.querySelectorAll(".content");for(var n=0;n<t.length;n++)this.registerTab(t[n],o[n])}registerTab(e,t){const o=new TabItem(e,t);o.onActivate(()=>this.activateTab(o)),this.tabs.push(o)}activateTab(e){this.activeTab&&this.activeTab.setActive(!1),this.activeTab=e,this.activeTab.setActive(!0)}}class TabItem{constructor(e,t){this.header=e,this.content=t}onActivate(e){this.header.addEventListener("click",()=>e(this))}setActive(e){this.header.classList.toggle("tab_active",e),this.content.classList.toggle("content_active",e)}}function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function scrollProgress(){const e=(document.documentElement.scrollTop||document.body.scrollTop)/((document.documentElement.scrollHeight||document.body.scrollHeight)-document.documentElement.clientHeight)*100+"%";document.getElementById("progress").style.setProperty("--scroll",e)}function scrollTo(e){window.scroll({left:0,top:e.offsetTop-(document.body.clientWidth<=830?0:nav.clientHeight),behavior:"smooth"})}function bindLinks(){for(let e=0;e<links.length;e++)links[e].addEventListener("click",()=>{scrollTo(sections[e]),document.body.clientWidth<=830&&showMenu()})}function showMenu(){navButton.classList.toggle("nav-button_close"),nav.classList.toggle("nav_active")}function init(){testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),document.addEventListener("scroll",scrollProgress,{passive:!0}),logo.addEventListener("click",()=>{scrollTo(header),document.body.clientWidth<=830&&showMenu()}),headerButton.addEventListener("click",()=>{scrollTo(about)}),priceButton.addEventListener("click",()=>{scrollTo(feedback)});for(let e=0;e<portfolioTabs.length;e++)portfolioTabs[e].addEventListener("click",()=>{document.documentElement.clientWidth<1440&&scrollTo(portfolio)});navButton.addEventListener("click",showMenu),optionSelected.addEventListener("click",()=>{optionsBlock.classList.toggle("feedback-options_active")}),optionsList.forEach(e=>{e.addEventListener("click",()=>{optionSelected.innerHTML=e.querySelector(".feedback__label").innerHTML,optionsBlock.classList.remove("feedback-options_active")})}),bindLinks();new Swiper(".swiper-container",{loop:!0,direction:"vertical",autoplay:!0,pagination:{el:".swiper-pagination",type:"fraction",renderFraction:function(e,t){return'<span class="'+e+'"></span><span class="'+t+'"></span>'}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},observer:!0,observeParents:!0});new TabsManager(document.querySelector(".portfolio")),new TabsManager(document.querySelector(".price"))}document.addEventListener("DOMContentLoaded",(function(){init()}));