!function(l,e){"function"==typeof define&&define.amd?define(["jquery"],e):e(l.jQuery)}(this,function(l){"use strict";function e(e){if(r.webkit&&!e)return{height:0,width:0};if(r.scrollSize)return r.scrollSize;var s={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"},o=l.extend({overflow:"scroll",position:"absolute",top:"-1000px"},s);o[r.rtl?"right":"left"]="-1000px";var t=l("<div>").css(s),i=l("<div>").css(o).append(t).appendTo("body");i.scrollLeft(1e3).scrollTop(1e3);var n=Math.ceil(i.offset().top-t.offset().top||0),a=Math.ceil(i.offset().left-t.offset().left||0);return r.scrollSize={height:n,width:r.rtl&&!a?n:a},i.remove(),r.scrollSize}function s(){var l=e(!0);return!(l.height||l.width)}function o(l){var e=l.originalEvent;return e.axis&&e.axis===e.HORIZONTAL_AXIS?!1:e.wheelDeltaX?!1:!0}var t=!1,r={data:{index:0,name:"scrollbar"},macosx:/mac/i.test(navigator.platform),mobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/webkit/i.test(navigator.userAgent)&&!/edge\/\d+/i.test(navigator.userAgent),rtl:function(){return"rtl"==l("html").attr("dir")?!0:l(".mfilter-free-container.mfilter-direction.rtl").length?!0:!1}()};r.scrolls.add=function(l){this.remove(l).push(l)},r.scrolls.remove=function(e){for(;l.inArray(e,this)>=0;)this.splice(l.inArray(e,this),1);return this};var i={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!1,ignoreOverlay:!1,scrollStep:30,showArrows:!1,stepScrolling:!0,scrollx:null,scrolly:null,onDestroy:null,onInit:null,onScroll:null,onUpdate:null},n=function(o){r.scroll||(r.overlay=s(),r.scroll=e(),c(),l(window).resize(function(){var l=!1;if(r.scroll&&(r.scroll.height||r.scroll.width)){var s=e();(s.height!==r.scroll.height||s.width!==r.scroll.width)&&(r.scroll=s,l=!0)}c(l)})),this.container=o,this.namespace=".scrollbar_"+r.data.index++,this.options=l.extend({},i,window.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},this.maxHeight=this.container.css("max-height"),"undefined"==typeof this.maxHeight&&(this.maxHeight=""),o.data(r.data.name,this),r.scrolls.add(this)};n.prototype={destroy:function(){if(this.wrapper){this.container.removeData(r.data.name),r.scrolls.remove(this);var e=this.container.scrollLeft(),s=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:"","max-height":this.container.attr("data-max-height")?this.container.attr("data-max-height")+"px":this.maxHeight}).removeClass("scroll-content scroll-scrollx_visible scroll-scrolly_visible").off(this.namespace).scrollLeft(e).scrollTop(s),this.scrollx.scroll.removeClass("scroll-scrollx_visible").find("div").andSelf().off(this.namespace),this.scrolly.scroll.removeClass("scroll-scrolly_visible").find("div").andSelf().off(this.namespace),this.wrapper.remove(),l(document).add("body").off(this.namespace),l.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},init:function(e){var s=this,t=this.container,i=this.containerWrapper||t,n=this.namespace,a=l.extend(this.options,e||{}),c={x:this.scrollx,y:this.scrolly},h=this.wrapper,d={scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop()};if(r.mobile&&a.ignoreMobile||r.overlay&&a.ignoreOverlay||r.macosx&&!r.webkit)return!1;if(h)i.css({height:"auto","max-height":this.container.attr("data-max-height")?this.container.attr("data-max-height")+"px":this.maxHeight}).css("margin-"+(r.rtl?"left":"right"),-1*r.scroll.width+"px");else{if(this.wrapper=h=l("<div>").addClass("scroll-wrapper").addClass(t.attr("class")).insertBefore(t).append(t),t.is("textarea")&&(this.containerWrapper=i=l("<div>").insertBefore(t).append(t),h.addClass("scroll-textarea")),i.addClass("scroll-content").css({height:"auto","max-height":this.container.attr("data-max-height")?this.container.attr("data-max-height")+"px":this.maxHeight}).css("margin-"+(r.rtl?"left":"right"),-1*r.scroll.width+"px"),t.on("scroll"+n,function(e){l.isFunction(a.onScroll)&&a.onScroll.call(s,{maxScroll:c.y.maxScrollOffset,scroll:t.scrollTop(),size:c.y.size,visible:c.y.visible},{maxScroll:c.x.maxScrollOffset,scroll:t.scrollLeft(),size:c.x.size,visible:c.x.visible}),c.x.isVisible&&c.x.scroll.bar.css("left",t.scrollLeft()*c.x.kx+"px"),c.y.isVisible&&c.y.scroll.bar.css("top",t.scrollTop()*c.y.kx+"px")}),h.on("scroll"+n,function(){h.scrollTop(0).scrollLeft(0)}),a.disableBodyScroll){var p=function(l){o(l)?c.y.isVisible&&c.y.mousewheel(l):c.x.isVisible&&c.x.mousewheel(l)};h.on("MozMousePixelScroll"+n,p),h.on("mousewheel"+n,p),r.mobile&&h.on("touchstart"+n,function(e){var s=e.originalEvent.touches&&e.originalEvent.touches[0]||e,o={pageX:s.pageX,pageY:s.pageY},r={left:t.scrollLeft(),top:t.scrollTop()};l(document).on("touchmove"+n,function(l){var e=l.originalEvent.targetTouches&&l.originalEvent.targetTouches[0]||l;t.scrollLeft(r.left+o.pageX-e.pageX),t.scrollTop(r.top+o.pageY-e.pageY),l.preventDefault()}),l(document).on("touchend"+n,function(){l(document).off(n)})})}l.isFunction(a.onInit)&&a.onInit.apply(this,[t])}l.each(c,function(e,r){var i=null,h=1,d="x"===e?"scrollLeft":"scrollTop",p=a.scrollStep,f=function(){var l=t[d]();t[d](l+p),1==h&&l+p>=u&&(l=t[d]()),-1==h&&u>=l+p&&(l=t[d]()),t[d]()==l&&i&&i()},u=0;r.scroll||(r.scroll=s._getScroll(a["scroll"+e]).addClass("scroll-"+e),a.showArrows&&r.scroll.addClass("scroll-element_arrows_visible"),r.mousewheel=function(l){if(!r.isVisible||"x"===e&&o(l))return!0;if("y"===e&&!o(l))return c.x.mousewheel(l),!0;var i=-1*l.originalEvent.wheelDelta||l.originalEvent.detail,n=r.size-r.visible-r.offset;return(i>0&&n>u||0>i&&u>0)&&(u+=i,0>u&&(u=0),u>n&&(u=n),s.scrollTo=s.scrollTo||{},s.scrollTo[d]=u,setTimeout(function(){s.scrollTo&&(t.stop().animate(s.scrollTo,240,"linear",function(){u=t[d]()}),s.scrollTo=null)},1)),l.preventDefault(),!1},r.scroll.on("MozMousePixelScroll"+n,r.mousewheel).on("mousewheel"+n,r.mousewheel).on("mouseenter"+n,function(){u=t[d]()}),r.scroll.find(".scroll-arrow, .scroll-element_track").on("mousedown"+n,function(o){if(1!=o.which)return!0;h=1;var n={eventOffset:o["x"===e?"pageX":"pageY"],maxScrollValue:r.size-r.visible-r.offset,scrollbarOffset:r.scroll.bar.offset()["x"===e?"left":"top"],scrollbarSize:r.scroll.bar["x"===e?"outerWidth":"outerHeight"]()},c=0,v=0;return l(this).hasClass("scroll-arrow")?(h=l(this).hasClass("scroll-arrow_more")?1:-1,p=a.scrollStep*h,u=h>0?n.maxScrollValue:0):(h=n.eventOffset>n.scrollbarOffset+n.scrollbarSize?1:n.eventOffset<n.scrollbarOffset?-1:0,p=Math.round(.75*r.visible)*h,u=n.eventOffset-n.scrollbarOffset-(a.stepScrolling?1==h?n.scrollbarSize:0:Math.round(n.scrollbarSize/2)),u=t[d]()+u/r.kx),s.scrollTo=s.scrollTo||{},s.scrollTo[d]=a.stepScrolling?t[d]()+p:u,a.stepScrolling&&(i=function(){u=t[d](),clearInterval(v),clearTimeout(c),c=0,v=0},c=setTimeout(function(){v=setInterval(f,40)},a.duration+100)),setTimeout(function(){s.scrollTo&&(t.animate(s.scrollTo,a.duration),s.scrollTo=null)},1),s._handleMouseDown(i,o)}),r.scroll.bar.on("mousedown"+n,function(o){if(1!=o.which)return!0;var i=o["x"===e?"pageX":"pageY"],a=t[d]();return r.scroll.addClass("scroll-draggable"),l(document).on("mousemove"+n,function(l){var s=parseInt((l["x"===e?"pageX":"pageY"]-i)/r.kx,10);t[d](a+s)}),s._handleMouseDown(function(){r.scroll.removeClass("scroll-draggable"),u=t[d]()},o)}))}),l.each(c,function(l,e){var s="scroll-scroll"+l+"_visible",o="x"==l?c.y:c.x;e.scroll.removeClass(s),o.scroll.removeClass(s),i.removeClass(s)}),l.each(c,function(e,s){l.extend(s,"x"==e?{offset:parseInt(t.css("left"),10)||0,size:t.prop("scrollWidth"),visible:h.width()}:{offset:parseInt(t.css("top"),10)||0,size:t.prop("scrollHeight"),visible:h.height()})}),this._updateScroll("x",this.scrollx),this._updateScroll("y",this.scrolly),l.isFunction(a.onUpdate)&&a.onUpdate.apply(this,[t]),l.each(c,function(l,e){var s="x"===l?"left":"top",o="x"===l?"outerWidth":"outerHeight",r="x"===l?"width":"height",i=parseInt(t.css(s),10)||0,n=e.size,c=e.visible+i,h=e.scroll.size[o]()+(parseInt(e.scroll.size.css(s),10)||0);a.autoScrollSize&&(e.scrollbarSize=parseInt(h*c/n,10),e.scroll.bar.css(r,e.scrollbarSize+"px")),e.scrollbarSize=e.scroll.bar[o](),e.kx=(h-e.scrollbarSize)/(n-c)||1,e.maxScrollOffset=n-c}),t.scrollLeft(d.scrollLeft).scrollTop(d.scrollTop).trigger("scroll")},_getScroll:function(e){var s={advanced:['<div class="scroll-element">','<div class="scroll-element_corner"></div>','<div class="scroll-arrow scroll-arrow_less"></div>','<div class="scroll-arrow scroll-arrow_more"></div>','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_inner-wrapper">','<div class="scroll-element_inner scroll-element_track">','<div class="scroll-element_inner-bottom"></div>',"</div>","</div>",'<div class="iScrollIndicator">','<div class="scroll-bar_body">','<div class="scroll-bar_body-inner"></div>',"</div>",'<div class="scroll-bar_bottom"></div>','<div class="scroll-bar_center"></div>',"</div>","</div>","</div>"].join(""),simple:['<div class="scroll-element">','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_track"></div>','<div class="iScrollIndicator"></div>',"</div>","</div>"].join("")};return s[e]&&(e=s[e]),e||(e=s.simple),e="string"==typeof e?l(e).appendTo(this.wrapper):l(e),l.extend(e,{bar:e.find(".iScrollIndicator"),size:e.find(".scroll-element_size"),track:e.find(".scroll-element_track")}),e},_handleMouseDown:function(e,s){var o=this.namespace;return l(document).on("blur"+o,function(){l(document).add("body").off(o),e&&e()}),l(document).on("dragstart"+o,function(l){return l.preventDefault(),!1}),l(document).on("mouseup"+o,function(){l(document).add("body").off(o),e&&e()}),l("body").on("selectstart"+o,function(l){return l.preventDefault(),!1}),s&&s.preventDefault(),!1},_updateScroll:function(e,s){var o=this.container,t=this.containerWrapper||o,i="scroll-scroll"+e+"_visible",n="x"===e?this.scrolly:this.scrollx,a=parseInt(this.container.css("x"===e?"left":"top"),10)||0,c=this.wrapper,h=s.size,d=s.visible+a;s.isVisible=h-d>1,s.isVisible?(s.scroll.addClass(i),n.scroll.addClass(i),t.addClass(i)):(s.scroll.removeClass(i),n.scroll.removeClass(i),t.removeClass(i)),"y"===e&&(o.is("textarea")||d>h?t.css({height:d+r.scroll.height+"px","max-height":"none"}):t.css({height:"auto","max-height":this.container.attr("data-max-height")?this.container.attr("data-max-height")+"px":this.maxHeight})),(s.size!=o.prop("scrollWidth")||n.size!=o.prop("scrollHeight")||s.visible!=c.width()||n.visible!=c.height()||s.offset!=(parseInt(o.css("left"),10)||0)||n.offset!=(parseInt(o.css("top"),10)||0))&&(l.extend(this.scrollx,{offset:parseInt(o.css("left"),10)||0,size:o.prop("scrollWidth"),visible:c.width()}),l.extend(this.scrolly,{offset:parseInt(o.css("top"),10)||0,size:this.container.prop("scrollHeight"),visible:c.height()}),this._updateScroll("x"===e?"y":"x",n))}};var a=n;l.fn.scrollbar=function(e,s){return"string"!=typeof e&&(s=e,e="init"),"undefined"==typeof s&&(s=[]),l.isArray(s)||(s=[s]),this.not("body, .scroll-wrapper").each(function(){var o=l(this),t=o.data(r.data.name);(t||"init"===e)&&(t||(t=new a(o)),t[e]&&t[e].apply(t,s))}),this},l.fn.scrollbar.options=i;var c=function(){var l=0,e=0;return function(s){var o,i,n,a,h,d,p;for(o=0;o<r.scrolls.length;o++)a=r.scrolls[o],i=a.container,n=a.options,h=a.wrapper,d=a.scrollx,p=a.scrolly,(s||n.autoUpdate&&h&&h.is(":visible")&&(i.prop("scrollWidth")!=d.size||i.prop("scrollHeight")!=p.size||h.width()!=d.visible||h.height()!=p.visible))&&(a.init(),n.debug&&(window.console&&console.log({scrollHeight:i.prop("scrollHeight")+":"+a.scrolly.size,scrollWidth:i.prop("scrollWidth")+":"+a.scrollx.size,visibleHeight:h.height()+":"+a.scrolly.visible,visibleWidth:h.width()+":"+a.scrollx.visible},!0),e++));t&&e>10?(window.console&&console.log("Scroll updates exceed 10"),c=function(){}):(clearTimeout(l),l=setTimeout(c,300))}}()});